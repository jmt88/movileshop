<nz-card [nzBordered]="false" nzTitle="Administrar Usuarios del Sistema" [nzExtra]="buttonsTemplate">
    <div nz-row>
        <div nz-col nzSpan="24">
         
            <div class="send-request">
                <nz-table #rowSelectionTable nzSize="middle" nzShowPagination nzShowSizeChanger [nzData]="usuarios" [nzLoading]="isLoading"
                [nzTotal]="total"
                [nzPageSize]="pageSize"
                [nzPageIndex]="page"
                (nzQueryParams)="onQueryParamsChange($event)"
                >
                    <thead>
                        <tr>

                            <th id="nombre" nzColumnKey="nombre" [nzSortFn]="true">Nombre</th>
                            <th id="usuario" nzColumnKey="username" [nzSortFn]="true">Usuario</th>
                            <th id="correo" nzColumnKey="email" [nzSortFn]="true"> Correo</th>
                            <th id="perfil">Perfil</th>
                            <th id="tienda" >Tienda</th>
                            <th id="activo">Activo</th>
                            <th id="acciones" class="action-table-buttons" nzWidth="150px"> Acciones</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>
                                <input nz-input type="text" [(ngModel)]="nombre" (change)="buscar($event)">
                            </td>
                            <td>
                                <input nz-input type="text" [(ngModel)]="username" (change)="buscar($event)">
                            </td>
                            <td>
                                <input nz-input type="text" [(ngModel)]="email" (change)="buscar($event)">
                            </td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr> 
                        <tr *ngFor="let data of rowSelectionTable.data">
                            <td>{{ data.nombre }}</td>
                            <td>{{ data.username }}</td>
                            <td>{{ data.email }}</td>
                            <td>{{ data.perfil }}</td>
                            <td>{{ data.tienda }}</td>
                            <td>{{ data.active ? 'Si' : 'No' }}</td>
                            <td class="action-table-buttons">
                                <button nz-button title="Editar" nzSize="small" (click)="editar(data.id)" *ngIf="permisos.modificar" nzType="primary" class="success" style="margin-right: 8px;" nzShape="round"><i nz-icon nzType="edit"></i></button>
                                <button nz-button nzSize="small" title="Eliminar" (click)="mostrarModalEliminar(data.id)" *ngIf="permisos.eliminar" nzType="primary" class="danger" nzShape="round"><i nz-icon nzType="delete"></i></button>
                            </td>
                        </tr>
                    </tbody>
                </nz-table>
            </div>
        </div>
    </div>
</nz-card>
<ng-template #buttonsTemplate>
    <div class="steps-action" *ngIf="permisos.crear">
        <button nz-button nzType="primary" ngClass="success header-button" (click)="adicionar()">
            <i nz-icon nzType="plus"></i><span>Adicionar</span>
        </button>
        <button nz-button nzType="primary" ngClass="warning header-button" (click)="mostrarModalImportarUsuarios()" *ngIf="ldapConfigurado">
            <i nz-icon nzType="user"></i><span>Importar Usuarios</span>
        </button>
    </div>
</ng-template>